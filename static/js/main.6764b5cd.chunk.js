(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(24),a=c.n(s),r=c(9),i=(c(35),c(36),c(37),c(38),c(39),c(40),c(41),c(42),c(26)),l=c.n(i),j=c(1),b=function(e){var t=e.to,c=e.text;return Object(j.jsx)(r.b,{to:t,className:function(e){var t=e.isActive;return l()("nav__link",{"is-active":t})},children:c})},d=function(){return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("a",{className:"logo",href:"/",children:Object(j.jsx)("img",{alt:"vinDecoder",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOvSURBVFhH7ZhLKHVRFMfXvUUmJEWUVwZIDLwKcyOPMpGJJDFjYiZRyoAYKWSkDD3Ko5SBCUKUDDzKiExk4hF572+tbZ19z77n3nPuucfXd/vyq9VZe5+91/7vc/bad5/rEwjEMH6+xiy/Ar3yfwp8fX2F4uJi8Pl8ni0+Ph7m5+c5spWospgCE+Xl5TAwMCAFu4WEHRwcwPDwsCzPzMxAZ2en9DVIoBtaWlpoQqKgoIBrvDE3NyfjhZPiWqARbGdnh2u8Y8RcWFjgmgCuBE5OTqpgP0lvb6+MmZubyzUBHEe6uLgQDw8P0k9KSpKBpqenZfmneHl5URO/v7+XdYeHh/JqK5AeudExNTVV+c3NzaK7u1ssLS1xS++UlZXJ2MnJyWqcmpoae4F9fX2qsZ1R4nhla2srZGxbgVlZWaE7hbGTkxPuGR249WjxUlJSwgv0+/1a4+zsbJkkR0dH4uzsTKyuroqmpiatDRndj5b6+noVJycnR1xeXoqQGzW+e9jd3eUSwMbGBtTW1nLJSnp6Otzc3HAJACcDb29vXHKGNv6Pjw+4vb3lGgBMTEhMTESpQaAwNQuyu7s7vmNPZmam1i9aQ7Hy2tXVJeNaBBYWFqrGU1NTXBsZRr+fMJowYXnFxu8sEXTLkZ6eHpiYmOCSPfgg4P39nUsAcXFxcH5+zqVv5Pgk0GB7e1vNgPY6txwfH6v+djYyMsI9dCj5zO0I7bh1dXXFHkBpaSl7kVNUVCSv5rcQChyXPZ3n52f2AmgCzYE/Pz/Zi5yvry/27JHZGQL8FWEvgLYG9/f3oaqqSvqNjY2wvLws/Ugx97cjIyMD8FcKHh8fuQYgISEB1tbWYHNzk2v4SZNAM1RvmFtaW1u1/tEYbTPGVkNYVFRWVqrGg4ODXOsMLgnVLxozRJl9wrLN4PEK8vPzuQTyWF5RUcGl8NAR3tg2aI2lpaU5rkkamvpdX19rCUK5QPekNBIYTF1dnZoN2fj4ON+xgpmvtSVzS3t7u9bf9hXPzs5qjc2GG7FYXFwUuJjF2NiYwC87SxvjwOkGTEgtRliBweLoBGMuO9nT0xNHcgd+GYaMRyiBweIaGhpk/d7enuO50E0yhWN0dFS0tbWJjo4O+cqNycokQXGAlTjWNygOVlZWSLzavGnPWl9fh9PTU8BvCMjLy4Pq6mooKSmR9/8atKbwosx4cpiB8vqvIY0xK45QAmNRHOHr7++ntIahoSFtzcUKIb9JYonfPzC98ivQGwB/ACU0DEw+kYwSAAAAAElFTkSuQmCC"})}),Object(j.jsx)("nav",{className:"nav",children:Object(j.jsxs)("ul",{className:"nav__list",children:[Object(j.jsx)("li",{className:"nav__item",children:Object(j.jsx)(b,{to:"/",text:"HomePage"})}),Object(j.jsx)("li",{className:"nav__item",children:Object(j.jsx)(b,{to:"/variables",text:"Vehicle Variables"})})]})})]})},o=c(4),u=c.n(o),h=c(6),O=c(5),x=c(3),v=(c(45),c(27)),m=c.n(v),f=function(){return Object(j.jsx)(m.a,{title:"Loading..."})},p=function(e){var t=e.id,c=e.name;return Object(j.jsx)(r.b,{to:"/variables/".concat(t),children:c})},N=(c(46),function(e){var t=e.decodeVin,c=e.currentVinQuery,n=function(e){var c=t.find((function(t){return t.VariableId===e}));return c?c.Value:""},s=new Date;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"header-details",children:Object(j.jsx)("span",{className:"header-details__value",children:"".concat(n(29)," ")+"".concat(n(26)," ")+"".concat(n(28))})}),Object(j.jsx)("table",{className:"table-details table-details--block",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["VIN",Object(j.jsx)("br",{}),c]}),Object(j.jsxs)("td",{children:["Make",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(26)})]}),Object(j.jsxs)("td",{children:["Model",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(28)})]}),Object(j.jsxs)("td",{children:["Year",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(29)})]}),Object(j.jsxs)("td",{children:["Drive Type",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(15)})]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Style/Body",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(96)})]}),Object(j.jsxs)("td",{children:["Engine",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:n(13)})]}),Object(j.jsxs)("td",{colSpan:2,children:["Manufactured in",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:"".concat(n(31),", ").concat(n(77),", ").concat(n(75))})]}),Object(j.jsxs)("td",{children:["Age",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"table-details__value",children:" ".concat(s.getFullYear()-Number(n(29))," years ")})]})]})]})}),Object(j.jsx)("div",{className:"header-details",children:"Full Vehicle Info"}),Object(j.jsx)("table",{className:"table-details table-details--stripes",children:Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsxs)("tr",{className:"td__num",children:[Object(j.jsx)("td",{children:Object(j.jsx)(p,{id:e.VariableId,name:e.Variable})}),Object(j.jsx)("td",{children:e.Value})]},e.VariableId)}))})})]})}),g=c(7),A="https://vpic.nhtsa.dot.gov/api";function V(e){return new Promise((function(t){setTimeout(t,e)}))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return c&&(n.body=JSON.stringify(c),n.headers={"Content-Type":"application/json; charset=UTF-8"}),V(300).then((function(){return fetch(A+e,n)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var w=function(e){return S(e)},y=(c(47),c(28)),_=c.n(y),k=c(29),I=c.n(k),E=c(25),F=c.n(E),C=c(30),P=c.n(C),G=function(e){var t=e.setDecodeVin,c=e.setIsLoading,s=e.setCurrentVinQuery,a=Object(n.useState)(""),r=Object(O.a)(a,2),i=r[0],l=r[1],b=Object(n.useState)(""),d=Object(O.a)(b,2),o=d[0],x=d[1],v=Object(n.useState)(!1),m=Object(O.a)(v,2),f=m[0],p=m[1],N=Object(n.useState)([]),A=Object(O.a)(N,2),V=A[0],S=A[1];Object(n.useEffect)((function(){var e=sessionStorage.getItem("vinView");null!==e&&S(JSON.parse(e))}),[]);var y=Object(n.useCallback)(Object(h.a)(u.a.mark((function e(){var n,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,r=o,console.log("/vehicles/decodevin/".concat(r,"?format=json")),w("/vehicles/decodevin/".concat(r,"?format=json"));case 4:if(n=e.sent,void 0!==(s=n.Results.find((function(e){return 143===e.VariableId})))){e.next=8;break}throw new Error("Wrong VIN code");case 8:if("0"===s.Value){e.next=11;break}throw a=n.Results.find((function(e){return 191===e.VariableId})),new Error(a?a.Value:"Wrong VIN code");case 11:l(n.Message),t(n.Results.filter((function(e){return e.Value&&"0"!==e.Value})).sort((function(e,t){return e.VariableId-t.VariableId}))),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),p(!0),l(String(e.t0)),t([]);case 20:c(!1);case 21:case"end":return e.stop()}var r}),e,null,[[1,15]])}))),[o]);return Object(j.jsx)("section",{className:"search",children:Object(j.jsx)("div",{className:"search__box",children:Object(j.jsxs)("form",{className:"search__form",onSubmit:function(e){if(e.preventDefault(),t([]),!/[A-HJ-NPR-Z0-9]{17}/.test(o))return p(!0),void l("Wrong input! Check your VIN code.");S((function(e){var t=Object(g.a)(e);return t.includes(o)?(t.splice(t.indexOf(o),1),t.unshift(o),sessionStorage.setItem("vinView",JSON.stringify(t)),t):(t.length>=5&&t.pop(),t.unshift(o),sessionStorage.setItem("vinView",JSON.stringify(t)),t)})),y().then(),s(o),x("")},children:[Object(j.jsx)("label",{htmlFor:"search__input",className:"search__label",children:"Decode Your Vehicle Identification Number"}),Object(j.jsxs)("div",{className:"search__field",children:[Object(j.jsx)(_.a,{placeholder:"Enter VIN code ...",blockSize:"",value:o,onChange:function(e){p(!1),x(e.target.value)}}),Object(j.jsx)(I.a,{type:"submit",theme:"blue",uppercase:!0,children:"Find"})]}),Object(j.jsx)("div",{className:"search__error",children:f&&Object(j.jsx)(P.a,{mode:"error",closeOnClick:!0,theme:"danger",onClose:function(){p(!1)},children:i})}),V.length>0&&Object(j.jsx)("div",{className:"search__history",children:Object(j.jsx)(F.a,{name:"",placeholder:"Last views:",onChange:function(e,t){x(t[0]),p(!1)},children:V.map((function(e){return Object(j.jsx)(E.Option,{value:e,children:e},e)}))})})]})})})},R=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(O.a)(a,2),i=r[0],l=r[1],b=Object(n.useState)(""),d=Object(O.a)(b,2),o=d[0],u=d[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(G,{setDecodeVin:s,setIsLoading:l,setCurrentVinQuery:u}),i?Object(j.jsx)(f,{}):Object(j.jsx)(j.Fragment,{children:!c.length||Object(j.jsx)(N,{decodeVin:c,currentVinQuery:o})})]})},D=function(e){var t=e.vehicleVariables;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"header-details",children:"Vehicle Variables List"}),Object(j.jsx)("table",{className:"table-details table-details--stripes table-details--block",children:Object(j.jsx)("tbody",{className:"table-group-divider",children:t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.ID}),Object(j.jsx)("td",{children:Object(j.jsx)(p,{id:e.ID,name:e.Name})}),Object(j.jsx)("td",{children:e.GroupName}),Object(j.jsx)("td",{dangerouslySetInnerHTML:{__html:e.Description}})]},e.ID)}))})})]})},J=function(e){var t=e.vehicleVariables,c=Object(x.p)().idParam,n=t.find((function(e){return e.ID===Number(c)}));return Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"header-details",children:n.Name}),Object(j.jsx)("table",{className:"table-details table-details--block",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Group name"}),Object(j.jsx)("td",{children:n.GroupName})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Descriprion"}),Object(j.jsx)("td",{dangerouslySetInnerHTML:{__html:n.Description}})]})]})})]}),void 0===n&&Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:"NO ITEMS"})})]})},Y=(c(48),function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],s=t[1],a=Object(n.useCallback)(Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("/vehicles/getvehiclevariablelist?format=json");case 3:t=e.sent,s(t.Results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Error("Can`t load vehicle variables");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);return Object(n.useEffect)((function(){a().then()}),[]),Object(j.jsx)("main",{className:"main",children:Object(j.jsxs)(x.d,{children:[Object(j.jsxs)(x.b,{path:"/",children:[Object(j.jsx)(x.b,{index:!0,element:Object(j.jsx)(R,{})}),Object(j.jsx)(x.b,{path:"home",element:Object(j.jsx)(x.a,{to:"/",replace:!0})})]}),Object(j.jsxs)(x.b,{path:"/variables",children:[Object(j.jsx)(x.b,{index:!0,element:Object(j.jsx)(D,{vehicleVariables:c})}),Object(j.jsx)(x.b,{path:":idParam",element:Object(j.jsx)(J,{vehicleVariables:c})})]})]})})}),B=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsx)(Y,{})]})};a.a.render(Object(j.jsx)(r.a,{children:Object(j.jsx)(B,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.6764b5cd.chunk.js.map