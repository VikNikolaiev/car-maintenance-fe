(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(23),r=c.n(n),i=c(9),l=(c(29),c(30),c(31),c(24)),j=c.n(l),b=c(1),d=function(e){var t=e.to,c=e.text;return Object(b.jsx)(i.b,{to:t,className:function(e){var t=e.isActive;return j()("nav__link",{"is-active":t})},children:c})},o=function(){return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("a",{className:"logo",href:"/",children:Object(b.jsx)("img",{alt:"vinDecoder",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOvSURBVFhH7ZhLKHVRFMfXvUUmJEWUVwZIDLwKcyOPMpGJJDFjYiZRyoAYKWSkDD3Ko5SBCUKUDDzKiExk4hF572+tbZ19z77n3nPuucfXd/vyq9VZe5+91/7vc/bad5/rEwjEMH6+xiy/Ar3yfwp8fX2F4uJi8Pl8ni0+Ph7m5+c5spWospgCE+Xl5TAwMCAFu4WEHRwcwPDwsCzPzMxAZ2en9DVIoBtaWlpoQqKgoIBrvDE3NyfjhZPiWqARbGdnh2u8Y8RcWFjgmgCuBE5OTqpgP0lvb6+MmZubyzUBHEe6uLgQDw8P0k9KSpKBpqenZfmneHl5URO/v7+XdYeHh/JqK5AeudExNTVV+c3NzaK7u1ssLS1xS++UlZXJ2MnJyWqcmpoae4F9fX2qsZ1R4nhla2srZGxbgVlZWaE7hbGTkxPuGR249WjxUlJSwgv0+/1a4+zsbJkkR0dH4uzsTKyuroqmpiatDRndj5b6+noVJycnR1xeXoqQGzW+e9jd3eUSwMbGBtTW1nLJSnp6Otzc3HAJACcDb29vXHKGNv6Pjw+4vb3lGgBMTEhMTESpQaAwNQuyu7s7vmNPZmam1i9aQ7Hy2tXVJeNaBBYWFqrGU1NTXBsZRr+fMJowYXnFxu8sEXTLkZ6eHpiYmOCSPfgg4P39nUsAcXFxcH5+zqVv5Pgk0GB7e1vNgPY6txwfH6v+djYyMsI9dCj5zO0I7bh1dXXFHkBpaSl7kVNUVCSv5rcQChyXPZ3n52f2AmgCzYE/Pz/Zi5yvry/27JHZGQL8FWEvgLYG9/f3oaqqSvqNjY2wvLws/Ugx97cjIyMD8FcKHh8fuQYgISEB1tbWYHNzk2v4SZNAM1RvmFtaW1u1/tEYbTPGVkNYVFRWVqrGg4ODXOsMLgnVLxozRJl9wrLN4PEK8vPzuQTyWF5RUcGl8NAR3tg2aI2lpaU5rkkamvpdX19rCUK5QPekNBIYTF1dnZoN2fj4ON+xgpmvtSVzS3t7u9bf9hXPzs5qjc2GG7FYXFwUuJjF2NiYwC87SxvjwOkGTEgtRliBweLoBGMuO9nT0xNHcgd+GYaMRyiBweIaGhpk/d7enuO50E0yhWN0dFS0tbWJjo4O+cqNycokQXGAlTjWNygOVlZWSLzavGnPWl9fh9PTU8BvCMjLy4Pq6mooKSmR9/8atKbwosx4cpiB8vqvIY0xK45QAmNRHOHr7++ntIahoSFtzcUKIb9JYonfPzC98ivQGwB/ACU0DEw+kYwSAAAAAElFTkSuQmCC"})}),Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{className:"nav__list",children:[Object(b.jsx)("li",{className:"nav__item",children:Object(b.jsx)(d,{to:"/",text:"HomePage"})}),Object(b.jsx)("li",{className:"nav__item",children:Object(b.jsx)(d,{to:"/variables",text:"Vehicle Variables"})})]})})]})},u=c(4),h=c.n(u),O=c(6),x=c(5),v=c(3),m=(c(34),function(){return Object(b.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(b.jsx)("div",{className:"Loader__content"})})}),f=function(e){var t=e.id,c=e.name;return Object(b.jsx)(i.b,{to:"/variables/".concat(t),children:c})},p=(c(35),function(e){var t=e.decodeVin,c=e.currentVinQuery,s=function(e){var c=t.find((function(t){return t.VariableId===e}));return c?c.Value:""},a=new Date;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"header-details",children:Object(b.jsx)("span",{className:"header-details__value",children:"".concat(s(29)," ")+"".concat(s(26)," ")+"".concat(s(28))})}),Object(b.jsx)("table",{className:"table-details table-details--block",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:["VIN",Object(b.jsx)("br",{}),c]}),Object(b.jsxs)("td",{children:["Make",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(26)})]}),Object(b.jsxs)("td",{children:["Model",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(28)})]}),Object(b.jsxs)("td",{children:["Year",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(29)})]}),Object(b.jsxs)("td",{children:["Drive Type",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(15)})]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:["Style/Body",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(96)})]}),Object(b.jsxs)("td",{children:["Engine",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:s(13)})]}),Object(b.jsxs)("td",{colSpan:2,children:["Manufactured in",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:"".concat(s(31),", ").concat(s(77),", ").concat(s(75))})]}),Object(b.jsxs)("td",{children:["Age",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"table-details__value",children:" ".concat(a.getFullYear()-Number(s(29))," years ")})]})]})]})}),Object(b.jsx)("div",{className:"header-details",children:"Full Vehicle Info"}),Object(b.jsx)("table",{className:"table-details table-details--stripes",children:Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsxs)("tr",{className:"td__num",children:[Object(b.jsx)("td",{children:Object(b.jsx)(f,{id:e.VariableId,name:e.Variable})}),Object(b.jsx)("td",{children:e.Value})]},e.VariableId)}))})})]})}),N=c(7),g="https://vpic.nhtsa.dot.gov/api";function A(e){return new Promise((function(t){setTimeout(t,e)}))}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),A(300).then((function(){return fetch(g+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var _=function(e){return V(e)},y=(c(36),function(e){var t=e.setDecodeVin,c=e.setIsLoading,a=e.setCurrentVinQuery,n=Object(s.useState)(""),r=Object(x.a)(n,2),i=r[0],l=r[1],j=Object(s.useState)(""),d=Object(x.a)(j,2),o=d[0],u=d[1],v=Object(s.useState)(!1),m=Object(x.a)(v,2),f=m[0],p=m[1],g=Object(s.useState)([]),A=Object(x.a)(g,2),V=A[0],y=A[1];Object(s.useEffect)((function(){var e=sessionStorage.getItem("vinView");null!==e&&y(JSON.parse(e))}),[]);var S=Object(s.useCallback)(Object(O.a)(h.a.mark((function e(){var s,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,r=o,console.log("/vehicles/decodevin/".concat(r,"?format=json")),_("/vehicles/decodevin/".concat(r,"?format=json"));case 4:if(s=e.sent,void 0!==(a=s.Results.find((function(e){return 143===e.VariableId})))){e.next=8;break}throw new Error("Wrong VIN code");case 8:if("0"===a.Value){e.next=11;break}throw n=s.Results.find((function(e){return 191===e.VariableId})),new Error(n?n.Value:"Wrong VIN code");case 11:l(s.Message),t(s.Results.filter((function(e){return e.Value&&"0"!==e.Value})).sort((function(e,t){return e.VariableId-t.VariableId}))),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),p(!0),l(String(e.t0)),t([]);case 20:c(!1);case 21:case"end":return e.stop()}var r}),e,null,[[1,15]])}))),[o]);return Object(b.jsx)("section",{className:"search",children:Object(b.jsx)("div",{className:"search__box",children:Object(b.jsxs)("form",{className:"search__form",onSubmit:function(e){if(e.preventDefault(),t([]),!/[A-HJ-NPR-Z0-9]{17}/.test(o))return p(!0),void l("Wrong input! Check your VIN code.");y((function(e){var t=Object(N.a)(e);return t.includes(o)?(t.splice(t.indexOf(o),1),t.unshift(o),sessionStorage.setItem("vinView",JSON.stringify(t)),t):(t.length>=5&&t.pop(),t.unshift(o),sessionStorage.setItem("vinView",JSON.stringify(t)),t)})),S().then(),a(o),u("")},children:[Object(b.jsx)("label",{htmlFor:"search__input",className:"search__label",children:"Decode Your Vehicle Identification Number"}),Object(b.jsxs)("div",{className:"search__field",children:[Object(b.jsx)("input",{type:"text",id:"search__input",className:"search__input",placeholder:"Enter VIN code ...",value:o,onChange:function(e){p(!1),u(e.target.value)}}),Object(b.jsx)("button",{type:"submit","data-cy":"submit-button",className:"search__submit",children:"Find"})]}),Object(b.jsx)("div",{className:"search__error",children:f&&Object(b.jsx)("div",{className:"search__error__message",children:i})}),V.length>0&&Object(b.jsxs)("div",{className:"search__history",children:["Last views: ",V.map((function(e){return Object(b.jsx)("span",{className:"search__history-item",role:"presentation",onClick:function(){u(e),p(!1)},children:"".concat(e)},e)}))]})]})})})}),S=function(){var e=Object(s.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),r=Object(x.a)(n,2),i=r[0],l=r[1],j=Object(s.useState)(""),d=Object(x.a)(j,2),o=d[0],u=d[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{setDecodeVin:a,setIsLoading:l,setCurrentVinQuery:u}),i?Object(b.jsx)(m,{}):Object(b.jsx)(b.Fragment,{children:!c.length||Object(b.jsx)(p,{decodeVin:c,currentVinQuery:o})})]})},w=function(e){var t=e.vehicleVariables;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"header-details",children:"Vehicle Variables List"}),Object(b.jsx)("table",{className:"table-details table-details--stripes table-details--block",children:Object(b.jsx)("tbody",{className:"table-group-divider",children:t.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.ID}),Object(b.jsx)("td",{children:Object(b.jsx)(f,{id:e.ID,name:e.Name})}),Object(b.jsx)("td",{children:e.GroupName}),Object(b.jsx)("td",{dangerouslySetInnerHTML:{__html:e.Description}})]},e.ID)}))})})]})},I=function(e){var t=e.vehicleVariables,c=Object(v.p)().idParam,s=t.find((function(e){return e.ID===Number(c)}));return Object(b.jsxs)(b.Fragment,{children:[s&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"header-details",children:s.Name}),Object(b.jsx)("table",{className:"table-details table-details--block",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Group name"}),Object(b.jsx)("td",{children:s.GroupName})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Descriprion"}),Object(b.jsx)("td",{dangerouslySetInnerHTML:{__html:s.Description}})]})]})})]}),void 0===s&&Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:"NO ITEMS"})})]})},k=(c(37),function(){var e=Object(s.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1],n=Object(s.useCallback)(Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("/vehicles/getvehiclevariablelist?format=json");case 3:t=e.sent,a(t.Results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Error("Can`t load vehicle variables");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);return Object(s.useEffect)((function(){n().then()}),[]),Object(b.jsx)("main",{className:"main",children:Object(b.jsxs)(v.d,{children:[Object(b.jsxs)(v.b,{path:"/",children:[Object(b.jsx)(v.b,{index:!0,element:Object(b.jsx)(S,{})}),Object(b.jsx)(v.b,{path:"home",element:Object(b.jsx)(v.a,{to:"/",replace:!0})})]}),Object(b.jsxs)(v.b,{path:"/variables",children:[Object(b.jsx)(v.b,{index:!0,element:Object(b.jsx)(w,{vehicleVariables:c})}),Object(b.jsx)(v.b,{path:":idParam",element:Object(b.jsx)(I,{vehicleVariables:c})})]})]})})}),E=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o,{}),Object(b.jsx)(k,{})]})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(E,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6a473c98.chunk.js.map